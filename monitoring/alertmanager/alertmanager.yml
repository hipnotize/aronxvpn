global:
  resolve_timeout: 5m

route:
  receiver: telegram
  group_by: ["alertname", "instance", "job"]
  group_wait: 10s
  group_interval: 1m
  repeat_interval: 2h

receivers:
  - name: telegram
    telegram_configs:
      - bot_token: ${TELEGRAM_ALERT_BOT_TOKEN}
        chat_id: ${TELEGRAM_ALERT_CHAT_ID}
        parse_mode: Markdown
        message: |
          *{{ .Status | toUpper }}* â€” *{{ .CommonLabels.alertname }}*
          *Severity:* {{ .CommonLabels.severity }}
          *Job:* {{ .CommonLabels.job }}
          *Instance:* {{ .CommonLabels.instance }}
          {{- if .CommonAnnotations.summary }}
          *Summary:* {{ .CommonAnnotations.summary }}
          {{- end }}
          {{- if .CommonAnnotations.description }}
          *Description:* {{ .CommonAnnotations.description }}
          {{- end }}
